---
import { getCollection } from "astro:content";
import Column from "../layouts/Column.astro";

export async function getStaticPaths() {
  const dialogos = await getCollection("dialogos");
  return dialogos.map((entry) => ({
    params: { slug: entry.slug },
    props: { entry },
  }));
}

const { entry } = Astro.props;
const { Content, frontmatter = {} } = await entry.render();
---

<Column title={frontmatter.title}>
  <h1 class="text-3xl font-bold mb-4">{frontmatter.title ?? ""}</h1>
  {frontmatter.date && typeof frontmatter.date.toISOString === "function" && (
    <p class="text-sm text-neutral-600 mb-6">
      {frontmatter.date.toISOString().slice(0, 10)}
    </p>
  )}
  <article class="prose max-w-none">
    <Content />
  </article>
</Column>

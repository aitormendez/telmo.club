---
import { getCollection } from "astro:content";
import SiteLayout from "../layouts/SiteLayout.astro";

export async function getStaticPaths() {
  const dialogos = await getCollection("dialogos");
  return dialogos.map((entry) => ({
    params: { slug: entry.slug },
    props: { entry },
  }));
}

const { entry } = Astro.props;
const { Content, frontmatter = {} } = await entry.render();
---

<SiteLayout title={frontmatter.title ?? "telmo"}>
  <main class="min-h-[70vh] px-5 sm:px-6 py-10 flex justify-center">
    <div class="w-full max-w-3xl space-y-4">
      <h1 class="text-3xl font-bold">{frontmatter.title ?? ""}</h1>
      {frontmatter.date && typeof frontmatter.date.toISOString === "function" && (
        <p class="text-sm text-neutral-600">
          {frontmatter.date.toISOString().slice(0, 10)}
        </p>
      )}
      <article class="prose max-w-none">
        <Content />
      </article>
    </div>
  </main>
</SiteLayout>
